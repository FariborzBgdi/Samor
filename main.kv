#:kivy 2.1.0

<MenuScreen>:
    MDBoxLayout:
        ben : ben.text
        taste : taste
        orientation: 'vertical'
        size_hint: (1,1)
        #pos_hint: none,none
        pos_hint: {"top": 1, 'center_y': 0.5}
        Image:
            source: 'logo.png'
            pos_hint: {"center_x": .5, "center_y": .5}
            size_hint: 1, 1
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 1,0.2
            MDLabel:
                text: "Benutzername"
                size_hint: (0.8,0.8)
                #halign: "center"
                pos_hint: {'Center_x': 0.5, 'center_y': 0.5}
            MDTextField:
                id: ben
                multiline: False
                hint_text: "Haw Erkennung"
                pos_hint: {'Center_x': 0.5, 'center_y': 0.5}
            MDLabel:
                text: "Passwort"
                size_hint: (0.8,0.8)
                pos_hint: {'Center_x': 0.5, 'center_y': 0.5}
            MDTextField:
                id: pas
                multiline: False
                hint_text: "Passwort"
                pos_hint: {'Center_x': 0.5, 'center_y': 0.5}

            MDRaisedButton:
                id: taste
                pos_hint: {'Center_x': 0.5, 'center_y': 0.5}
                text: "Anmelden"
                on_release:
                    root.manager.current = "settings"
                    #root.manager.current = "setting" if ben.text == "a" else "menu"
                    root.manager.transition.direction = "right"

<SettingsScreen>:
    MDBottomNavigation:
        text_color_active: 0, 0, 0, 1
        MDBottomNavigationItem:
            name: "mecanum"
            text: "Mecanum"
            icon: "controller-classic"

            MDBoxLayout:
                orientation: "vertical"
                md_bg_color: app.theme_cls.primary_color
                Image:
                    source: 'logo.png'
                    pos_hint: {"center_x": .5, "center_y": .5}
                MDBoxLayout:
                    #adaptive_size: True
                    MDIconButton:
                        icon: "arrow-top-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("FL")
                        on_release:
                            root.mecanum_move("ST")
                    MDIconButton:
                        icon: "arrow-up"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("FW")
                        on_release:
                            root.mecanum_move("ST")
                    MDIconButton:
                        icon: "arrow-top-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("FR")
                        on_release:
                            root.mecanum_move("ST")
                MDBoxLayout:
                    orientation: "horizontal"
                    MDIconButton:
                        icon: "arrow-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("L")
                        on_release:
                            root.mecanum_move("ST")
                    Image:
                        source: 'Mecanum.png'
                        size_hint: 1, 1.2
                        pos_hint: {'center_x':0.5, 'center_y':0.25}
                        allow_stretch: True
                    MDIconButton:
                        icon: "arrow-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("R")
                        on_release:
                            root.mecanum_move("ST")
                MDBoxLayout:
                    orientation: "horizontal"
                    MDIconButton:
                        icon: "arrow-bottom-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("BL")
                        on_release:
                            root.mecanum_move("ST")
                    MDIconButton:
                        icon: "arrow-down"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("BW")
                        on_release:
                            root.mecanum_move("ST")
                    MDIconButton:
                        icon: "arrow-bottom-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("BR")
                        on_release:
                            root.mecanum_move("ST")
                MDBoxLayout:
                    orientation: "horizontal"
                    md_bg_color: app.theme_cls.primary_color
                    MDIconButton:
                        icon: "arrow-u-down-left"
                        user_font_size: "60sp"
                        allow_stretch: True
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("RL")
                        on_release:
                            root.mecanum_move("ST")
                    MDIconButton:
                        icon: "arrow-u-down-right"
                        user_font_size: "60sp"
                        allow_stretch: True
                        size_hint: .8, .5
                        on_press:
                            root.mecanum_move("RR")
                        on_release:
                            root.mecanum_move("ST")
                # MDIconButton:
                #     icon: "logout"
                #     user_font_size: "60sp"
                #     text: "Zur√ºck zur Auswahl"
                #     on_press:
                #         root.manager.current = "menu"
                #         root.manager.transition.direction = "right"

        MDBottomNavigationItem:
            name: "roboterarm"
            text: "Roboterarm"
            icon: "robot-industrial-outline"

            MDBoxLayout:
                orientation: "horizontal"
                md_bg_color: app.theme_cls.primary_color
                Image:
                    source: 'Arm.png'
                    size_hint: 2, 3
                    pos_hint: {'center_x':1, 'center_y':.6}
                    allow_stretch: True
                MDBoxLayout:
                    orientation: "vertical"
                    MDIconButton:
                        icon: "arrow-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S6+")
                    MDIconButton:
                        icon: "arrow-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S5+")
                    MDIconButton:
                        icon: "arrow-up"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S4+")
                    MDIconButton:
                        icon: "arrow-up"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S3+")
                    MDIconButton:
                        icon: "arrow-up"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S2+")
                    MDIconButton:
                        icon: "arrow-left"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S1+")
                MDBoxLayout:
                    orientation: "vertical"
                    Label:
                        text: 'Grab'
                        font_size: '28sp'
                    Label:
                        text: 'Spin grab'
                        font_size: '28sp'
                    Label:
                        text: 'joint 3'
                        font_size: '28sp'
                    Label:
                        text: 'joint 2'
                        font_size: '28sp'
                    Label:
                        text: 'joint 1'
                        font_size: '28sp'
                    Label:
                        text: 'turntable'
                        font_size: '28sp'
                MDBoxLayout:
                    orientation: "vertical"
                    MDIconButton:
                        icon: "arrow-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S6-")
                    MDIconButton:
                        icon: "arrow-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S5-")
                    MDIconButton:
                        icon: "arrow-down"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S4-")
                    MDIconButton:
                        icon: "arrow-down"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S3-")
                    MDIconButton:
                        icon: "arrow-down"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S2-")
                    MDIconButton:
                        icon: "arrow-right"
                        user_font_size: "60sp"
                        size_hint: .8, .5
                        on_press:
                            root.manipulator_move("S1-")
            MDBoxLayout:
                orientation: "horizontal"
                MDIconButton:
                    icon: "play-circle"
                    user_font_size: "60sp"
                    on_press:
                        root.manipulator_move("StartPos")
                MDIconButton:
                    icon: "power-sleep"
                    user_font_size: "60sp"
                    on_press:
                        root.manipulator_move("Saus")

        MDBottomNavigationItem:
            name: "ki"
            text: "KI"
            icon: "brain"

            MDBoxLayout:
                adaptive_height: True
                md_bg_color: app.theme_cls.primary_color
                size: root.width, root.height
                orientation: "vertical"
                size_hint: (1,1)
                Camera:
                    id: camera
                    resolution: (1920, 1080)
                    #resolution: (640, 480)
                    height: '48dp'
                    play: False
                ToggleButton:
                    text: 'Play'
                    on_press: camera.play = not camera.play
                    size_hint_y: None
                    height: '48dp'
                Button:
                    text: 'Capture'
                    size_hint_y: None
                    height: '48dp'
                    on_press: root.capture()

        MDBottomNavigationItem:
            name: "settings"
            text: "Settings/Logout"
            icon: "cog"
            MDBoxLayout:
                adaptive_height: True
                md_bg_color: app.theme_cls.primary_color
                size: root.width, root.height
                orientation: "vertical"
                Label:
                    text: 'MQTT Broker Address: ' + root.broker_address
                    font_size: '20sp'
                Label:
                    text: 'MQTT Client Name: ' + root.client_name
                    font_size: '20sp'
                MDBoxLayout:
                    orientation: "horizontal"
                    Label:
                        text: 'Raspberry Pi Power'
                        font_size: '30sp'
                        size_hint: .8, .8
                    MDSwitch:
                        width: dp(64)
                        size_hint: .1, .8
                        on_active: root.raspberry_shutdown()
                MDBoxLayout:
                    orientation: "horizontal"
                    Label:
                        text: 'Verbindungsstatus'
                        font_size: '30sp'
                        size_hint: .8, .8
                    MDCheckbox:
                        size: "20dp","20dp"
                        size_hint: .2, .8
                    #MDSwitch:
                        #width: dp(64)
                        #size_hint: .2, .8
                MDIconButton:
                    icon: "logout"
                    user_font_size: "70sp"
                    on_press:
                        root.manager.current = "menu"
                        root.manager.transition.direction = "right"